<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--title-->
    <title>House Service | Login</title>
    <!--favicon-->
    <link rel="shortcut icon" href="../static/img/banner.jpg" type="image/x-icon">
    <!--css-->
    <link rel="stylesheet" href="../static/style.css">
    <!--bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="wrapper d-flex justify-content-center align-items-center">

        <!--main content-->
        <div class="panel d-flex">

            <!--form-->
            <div class="p-3 m-5 form">

                <!--flash message-->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                <div class="alert alert-{{ messages[0][0] }} alert-dismissible fade show" role="alert"
                    id="flash-message">
                    {{ messages[0][1] }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endif %}
                {% endwith %}

                <!--flash message script-->
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        let flashMessage = document.querySelector('#flash-message');

                        if (flashMessage) {
                            setTimeout(function () {
                                flashMessage.classList.remove('show');
                                flashMessage.classList.add('fade');

                                setTimeout(function () {
                                    window.location.reload();
                                }, 0);
                            }, 2000);
                        }
                    });
                </script>

                <!--heading-->
                <p>Welcome back</p>

                <!--form-->
                <form method="POST" action="{{url_for('login')}}">

                    <!--email-->
                    <div class="mb-3 mt-3">
                        <label for="email" class="form-label fw-bold"><i class="fa-solid fa-envelope"></i> Email <span
                                class="text-danger">* </span></label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>

                    <!--password-->
                    <div class="mb-3">
                        <label for="password" class="form-label fw-bold"><i class="fa-solid fa-lock"></i> Password <span
                                class="text-danger">* </span></label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>

                    <!--login type-->
                    <div class="mb-3">
                        <label for="login_type" class="form-label fw-bold"><i class="fa-solid fa-list"></i> Login Type
                            <span class="text-danger">* </span></label>
                        <select name="login_type" id="login_type" class="form-select" required>
                            <option value="0">Admin</option>
                            <option value="1">Professional</option>
                            <option value="2">Customer</option>
                        </select>
                    </div>

                    <!--btn-->
                    <button type="submit" class="btn btn-primary w-100">Login</button>

                    <!--account-->
                    <div class="register mt-3">
                        <h6 class="fw-bold text-decoration-underline">Don't have an account?</h6>
                        <a href="./professional_Register">Register Professional</a><br>
                        <a href="./customer_Register">Register Customer</a>
                    </div>


                    <!--invalid msg-->
                    <div class="text-danger fw-bold mt-2">
                        {{msg}}
                    </div>
                </form>
            </div>

            <!--banner-->
            <div class="m-4">
                <img src="../static/img/login.jpg" alt="" class="logo">
            </div>

        </div>
    </div>

    <!--bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>